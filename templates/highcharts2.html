{% block includes %}

{#    <script src="js/jquery-1.11.0.min.js"></script>#}
{#    <script src="js/bootstrap.min.js"></script>#}
{#    <script src="js/wow.min.js"></script>#}


    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">

<!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>


{% endblock %}

{% block body %}

<script type="text/javascript">
    var d = JSON.parse('{{ dictionary | safe}}');

    var cat = Object.keys(d);
    var data = [];

    for (var key in d)  {
        console.log(key);
        data.push(d[key]['score'])
    }

    function draw_chart1() {

        $('#container0').highcharts({
                title: {
                    text: 'Daily News Sentiment of Apple Inc.',
                    x: -20 //center
                },
                subtitle: {
                    text: 'Source: Yahoo Finance, News. Sentiment Score Calculated using AlchemyAPI',
                    x: -20
                },
                xAxis: {
                    categories: cat
                },
                yAxis: {
                    title: {
                        text: 'Seniment Score'
                    },
                    plotLines: [{
                        value: 0,
                        width: 1,
                        color: '#3182bd'
                    }]
                },
                tooltip: {
                    valueSuffix: ''
                },
                credits: {
                    enabled: false
                },
                series: [{
                    name: 'News Sentiment Score',
                    data: data
                }]
            });
    }

    function draw_chart2() {

        $('#container2').highcharts({
                title: {
                    text: 'Daily News Sentiment of Apple Inc.',
                    x: -20 //center
                },
                subtitle: {
                    text: 'Source: Yahoo Finance, News. Sentiment Score Calculated using AlchemyAPI',
                    x: -20
                },
                xAxis: {
                    categories: cat
                },
                yAxis: {
                    title: {
                        text: 'Seniment Score'
                    },
                    plotLines: [{
                        value: 0,
                        width: 1,
                        color: '#3182bd'
                    }]
                },
                tooltip: {
                    valueSuffix: ''
                },
                credits: {
                    enabled: false
                },
                series: [{
                    name: 'News Sentiment Score',
                    data: data
                }]
            });
    }

    function draw_chart3() {

        $('#container4').highcharts({
                title: {
                    text: 'Daily News Sentiment of Apple Inc.',
                    x: -20 //center
                },
                subtitle: {
                    text: 'Source: Yahoo Finance, News. Sentiment Score Calculated using AlchemyAPI',
                    x: -20
                },
                xAxis: {
                    categories: cat
                },
                yAxis: {
                    title: {
                        text: 'Seniment Score'
                    },
                    plotLines: [{
                        value: 0,
                        width: 1,
                        color: '#3182bd'
                    }]
                },
                tooltip: {
                    valueSuffix: ''
                },
                credits: {
                    enabled: false
                },
                series: [{
                    name: 'News Sentiment Score',
                    data: data
                }]
            });
    }

    function draw_chart4() {

        $('#container3').highcharts({
                title: {
                    text: 'Daily News Sentiment of Apple Inc.',
                    x: -20 //center
                },
                subtitle: {
                    text: 'Source: Yahoo Finance, News. Sentiment Score Calculated using AlchemyAPI',
                    x: -20
                },
                xAxis: {
                    categories: cat
                },
                yAxis: {
                    title: {
                        text: 'Seniment Score'
                    },
                    plotLines: [{
                        value: 0,
                        width: 1,
                        color: '#3182bd'
                    }]
                },
                tooltip: {
                    valueSuffix: ''
                },
                credits: {
                    enabled: false
                },
                series: [{
                    name: 'News Sentiment Score',
                    data: data
                }]
            });
    }

    Highcharts.setOptions({
            colors: ['#2AB585', '#F27067', '#36ADE3', '#EF7E42', '#78CEDD', '#22364E', '#CED1D1', '#BDE5EC', '#FAB893', '#98CBBB', '#F9B6B0']
        });
    $(document).ready(
        function () {

            draw_chart1();
            draw_chart2();
            draw_chart3();
            draw_chart4()

        }
       );
</script>

<div class="container">
 <div class="row">
    <div class="col-lg-6">
        <div id="container0" style="width: 100%; height: 350px; margin: 0 auto"></div>
    </div>
    <div class="col-lg-6">
        <div id="container3" style="width: 100%; height: 350px; margin: 0 auto"></div>
    </div>
 </div>
{# <div class="row">#}
{#    <div class="col-lg-12">#}
{#<table id="output" data-sort="true" style="width: 100%">#}
{#                        <thead>#}
{#                        {% for colname in d[0] %}#}
{#                            <th>#}
{#                                {{ colname }}#}
{#                            </th>#}
{#                        {% endfor %}#}
{#                        </thead>#}
{#                        <tbody>#}
                        {#                        {% for row in output %}#}
{#                       {% for row in d %}#}
{#                            <tr>#}
{#                                {% for datapoint in row %}#}
{##}
{#                                    <td>{{ datapoint }}</td>#}
{#                                {% endfor %}#}
{#                            </tr>#}
                        {#                        {% endfor %}#}
{#                        </tbody>#}
{#                    </table>#}
{#</div>#}
{#</div>#}
{#    <div class="col-xs-12">#}
{#        <div id="container2" style="min-width: 310px; height: 320px; margin: 0 auto"></div>#}
{#    </div>#}
 </div>
</div>
{% endblock %}